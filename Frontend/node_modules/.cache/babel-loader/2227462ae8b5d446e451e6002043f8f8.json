{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from'react';import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";function MajorSelect(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),majors=_useState2[0],setMajors=_useState2[1];var handleSelectInputChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var value;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:value=event.value;props.setMajor(value);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSelectInputChange(_x){return _ref.apply(this,arguments);};}();var setMajorsDropdownList=function setMajorsDropdownList(majors_array){var majors_obj_array=[];majors_array.forEach(function(elem){majors_obj_array.push({value:elem,label:elem});});setMajors(majors_obj_array);};// Fetch full subject list from API\nvar fetchMajors=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:fetch(\"http://localhost:8080/api/majors\",{crossDomain:true,mode:'cors',method:'GET',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setMajorsDropdownList;_context2.next=3;return res.json();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()).catch(function(err){console.log(err);});case 1:case\"end\":return _context3.stop();}}},_callee3);})),[]);useEffect(function(){fetchMajors();},[fetchMajors]);return/*#__PURE__*/_jsx(Select,{name:\"majors\",required:true,placeholder:props.major,options:majors,onChange:function onChange(e){return handleSelectInputChange(e);}});}export default MajorSelect;","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/components/MajorSelect.js"],"names":["React","useState","useEffect","useCallback","Select","MajorSelect","props","majors","setMajors","handleSelectInputChange","event","value","setMajor","setMajorsDropdownList","majors_array","majors_obj_array","forEach","elem","push","label","fetchMajors","fetch","crossDomain","mode","method","headers","then","res","json","catch","err","console","log","major","e"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,WAApC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,2CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,eAEIL,QAAQ,CAAC,EAAD,CAFZ,wCAEjBM,MAFiB,eAETC,SAFS,eAIxB,GAAMC,CAAAA,uBAAuB,0FAAG,iBAAOC,KAAP,4HAC9BC,KAD8B,CACtBD,KAAK,CAACC,KADgB,CAElCL,KAAK,CAACM,QAAN,CAAeD,KAAf,EAFkC,sDAAH,kBAAvBF,CAAAA,uBAAuB,4CAA7B,CAKA,GAAMI,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,YAAD,CAAkB,CAC5C,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CACAD,YAAY,CAACE,OAAb,CAAqB,SAAAC,IAAI,CAAI,CACzBF,gBAAgB,CAACG,IAAjB,CAAsB,CAACP,KAAK,CAAEM,IAAR,CAAcE,KAAK,CAAEF,IAArB,CAAtB,EACH,CAFD,EAGAT,SAAS,CAACO,gBAAD,CAAT,CACH,CAND,CAQA;AACH,GAAMK,CAAAA,WAAW,CAAGjB,WAAW,sEAAC,wIAC/BkB,KAAK,oCAAqC,CACzCC,WAAW,CAAE,IAD4B,CAEzCC,IAAI,CAAE,MAFmC,CAGzCC,MAAM,CAAE,KAHiC,CAIzCC,OAAO,CAAE,CACR,eAAgB,kBADR,CAER,8BAA+B,GAFvB,CAJgC,CAArC,CAAL,CAQGC,IARH,2FAQQ,kBAAOC,GAAP,mIACPd,qBADO,wBACqBc,CAAAA,GAAG,CAACC,IAAJ,EADrB,2HARR,kEAUGC,KAVH,CAUS,SAACC,GAAD,CAAS,CACjBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,CAZD,EAD+B,wDAAD,GAc5B,EAd4B,CAA/B,CAgBG5B,SAAS,CAAC,UAAM,CACZkB,WAAW,GACd,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,mBACI,KAAC,MAAD,EACI,IAAI,CAAC,QADT,CAEI,QAAQ,KAFZ,CAGI,WAAW,CAAEd,KAAK,CAAC2B,KAHvB,CAII,OAAO,CAAE1B,MAJb,CAKI,QAAQ,CAAE,kBAAC2B,CAAD,QAAOzB,CAAAA,uBAAuB,CAACyB,CAAD,CAA9B,EALd,EADJ,CASH,CAED,cAAe7B,CAAAA,WAAf","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\r\nimport Select from 'react-select';\r\n\r\nfunction MajorSelect(props) {\r\n\r\n    const [majors, setMajors] = useState([]);\r\n\r\n    const handleSelectInputChange = async (event, ) => {\r\n\t\tlet value = event.value;\r\n\t\tprops.setMajor(value)\r\n    }\r\n\r\n    const setMajorsDropdownList = (majors_array) => {\r\n        let majors_obj_array = [];\r\n        majors_array.forEach(elem => {\r\n            majors_obj_array.push({value: elem, label: elem});\r\n        })\r\n        setMajors(majors_obj_array);\r\n    }\r\n\r\n    // Fetch full subject list from API\r\n\tconst fetchMajors = useCallback(async () => {\r\n\t\tfetch(`http://localhost:8080/api/majors`, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\tmode: 'cors',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t},\r\n\t\t}).then(async (res) => {\r\n\t\t\tsetMajorsDropdownList(await res.json());\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}, []);\r\n\r\n    useEffect(() => {\r\n        fetchMajors()\r\n    }, [fetchMajors]);\r\n\r\n    return (\r\n        <Select\r\n            name='majors'\r\n            required\r\n            placeholder={props.major}\r\n            options={majors}\r\n            onChange={(e) => handleSelectInputChange(e)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default MajorSelect;\r\n"]},"metadata":{},"sourceType":"module"}