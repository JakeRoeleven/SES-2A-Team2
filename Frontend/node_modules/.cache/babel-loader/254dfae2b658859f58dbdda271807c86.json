{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaker\\\\Desktop\\\\SES-2A-Team2\\\\frontend\\\\src\\\\components\\\\InterestSelects.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InterestSelect(props) {\n  _s();\n\n  const [interests, setInterests] = useState([]);\n\n  const handleSelectInputChange = async event => {\n    // Get array of objects \n    let value_array = await event; // Reduce to array of interests\n\n    let filtered_interests = [];\n    let displayed_interests = [];\n    value_array.forEach(elem => {\n      filtered_interests.push(elem.value);\n      displayed_interests.push(elem);\n    }); // Only allow 3 interests\n\n    if (filtered_interests.length < 4) {\n      props.setCurrentInterests(filtered_interests);\n      props.setDisplayedInterests(displayed_interests);\n    }\n  };\n\n  const setInterestsDropdownList = interests_array => {\n    let interests_obj_array = [];\n    interests_array.forEach(elem => {\n      interests_obj_array.push({\n        value: elem,\n        label: elem\n      });\n    });\n    setInterests(interests_obj_array);\n  }; // Fetch full subject list from API\n\n\n  const fetchInterests = useCallback(async () => {\n    fetch(`http://localhost:8080/api/interests`, {\n      crossDomain: true,\n      mode: 'cors',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(async res => {\n      setInterestsDropdownList(await res.json());\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    fetchInterests();\n  }, [fetchInterests]);\n  return /*#__PURE__*/_jsxDEV(Select, {\n    type: \"interests\",\n    name: \"interests\",\n    required: true,\n    options: interests,\n    defaultValue: interests,\n    isMulti: true,\n    placeholder: 'Select Interests...',\n    value: props.displayed_interests,\n    onChange: e => handleSelectInputChange(e)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(InterestSelect, \"f9MIH7Oi06DeNygcaUWMsloJ2RY=\");\n\n_c = InterestSelect;\nexport default InterestSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"InterestSelect\");","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/frontend/src/components/InterestSelects.js"],"names":["React","useState","useEffect","useCallback","Select","InterestSelect","props","interests","setInterests","handleSelectInputChange","event","value_array","filtered_interests","displayed_interests","forEach","elem","push","value","length","setCurrentInterests","setDisplayedInterests","setInterestsDropdownList","interests_array","interests_obj_array","label","fetchInterests","fetch","crossDomain","mode","method","headers","then","res","json","catch","err","console","log","e"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,WAApC,QAAsD,OAAtD;AACA,OAAOC,MAAP,MAAmB,cAAnB;;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA;;AAE3B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;;AAEA,QAAMQ,uBAAuB,GAAG,MAAOC,KAAP,IAAiB;AAE7C;AACA,QAAIC,WAAW,GAAG,MAAMD,KAAxB,CAH6C,CAK7C;;AACA,QAAIE,kBAAkB,GAAG,EAAzB;AACA,QAAIC,mBAAmB,GAAG,EAA1B;AACAF,IAAAA,WAAW,CAACG,OAAZ,CAAqBC,IAAD,IAAU;AAC1BH,MAAAA,kBAAkB,CAACI,IAAnB,CAAwBD,IAAI,CAACE,KAA7B;AACAJ,MAAAA,mBAAmB,CAACG,IAApB,CAAyBD,IAAzB;AACH,KAHD,EAR6C,CAa7C;;AACA,QAAIH,kBAAkB,CAACM,MAAnB,GAA4B,CAAhC,EAAmC;AAC/BZ,MAAAA,KAAK,CAACa,mBAAN,CAA0BP,kBAA1B;AACAN,MAAAA,KAAK,CAACc,qBAAN,CAA4BP,mBAA5B;AACH;AACJ,GAlBD;;AAoBA,QAAMQ,wBAAwB,GAAIC,eAAD,IAAqB;AAClD,QAAIC,mBAAmB,GAAG,EAA1B;AACAD,IAAAA,eAAe,CAACR,OAAhB,CAAwBC,IAAI,IAAI;AAC5BQ,MAAAA,mBAAmB,CAACP,IAApB,CAAyB;AAACC,QAAAA,KAAK,EAAEF,IAAR;AAAcS,QAAAA,KAAK,EAAET;AAArB,OAAzB;AACH,KAFD;AAGAP,IAAAA,YAAY,CAACe,mBAAD,CAAZ;AACH,GAND,CAxB2B,CAgC3B;;;AACH,QAAME,cAAc,GAAGtB,WAAW,CAAC,YAAY;AAC9CuB,IAAAA,KAAK,CAAE,qCAAF,EAAwC;AAC5CC,MAAAA,WAAW,EAAE,IAD+B;AAE5CC,MAAAA,IAAI,EAAE,MAFsC;AAG5CC,MAAAA,MAAM,EAAE,KAHoC;AAI5CC,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAER,uCAA+B;AAFvB;AAJmC,KAAxC,CAAL,CAQGC,IARH,CAQQ,MAAOC,GAAP,IAAe;AACtBX,MAAAA,wBAAwB,CAAC,MAAMW,GAAG,CAACC,IAAJ,EAAP,CAAxB;AACA,KAVD,EAUGC,KAVH,CAUUC,GAAD,IAAS;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,KAZD;AAaA,GAdiC,EAc/B,EAd+B,CAAlC;AAkBGjC,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,cAAc;AACjB,GAFQ,EAEN,CAACA,cAAD,CAFM,CAAT;AAIA,sBACI,QAAC,MAAD;AACI,IAAA,IAAI,EAAC,WADT;AAEI,IAAA,IAAI,EAAC,WAFT;AAGI,IAAA,QAAQ,MAHZ;AAII,IAAA,OAAO,EAAElB,SAJb;AAKI,IAAA,YAAY,EAAEA,SALlB;AAMI,IAAA,OAAO,MANX;AAOI,IAAA,WAAW,EAAE,qBAPjB;AAQI,IAAA,KAAK,EAAED,KAAK,CAACO,mBARjB;AASI,IAAA,QAAQ,EAAGyB,CAAD,IAAO7B,uBAAuB,CAAC6B,CAAD;AAT5C;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH;;GApEQjC,c;;KAAAA,c;AAsET,eAAeA,cAAf","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\r\nimport Select from 'react-select';\r\n\r\nfunction InterestSelect(props) {\r\n\r\n    const [interests, setInterests] = useState([]);\r\n\r\n    const handleSelectInputChange = async (event) => {\r\n\r\n        // Get array of objects \r\n        let value_array = await event;\r\n\r\n        // Reduce to array of interests\r\n        let filtered_interests = []\r\n        let displayed_interests = []\r\n        value_array.forEach((elem) => {\r\n            filtered_interests.push(elem.value)\r\n            displayed_interests.push(elem)\r\n        });\r\n\r\n        // Only allow 3 interests\r\n        if (filtered_interests.length < 4) {\r\n            props.setCurrentInterests(filtered_interests);\t\t\t\r\n            props.setDisplayedInterests(displayed_interests)\r\n        }\t\t\r\n    }\r\n\r\n    const setInterestsDropdownList = (interests_array) => {\r\n        let interests_obj_array = [];\r\n        interests_array.forEach(elem => {\r\n            interests_obj_array.push({value: elem, label: elem});\r\n        })\r\n        setInterests(interests_obj_array)\r\n    }\r\n\r\n    // Fetch full subject list from API\r\n\tconst fetchInterests = useCallback(async () => {\r\n\t\tfetch(`http://localhost:8080/api/interests`, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\tmode: 'cors',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t},\r\n\t\t}).then(async (res) => {\r\n\t\t\tsetInterestsDropdownList(await res.json());\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}, []);\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        fetchInterests()\r\n    }, [fetchInterests]);\r\n\r\n    return (\r\n        <Select\r\n            type='interests'\r\n            name='interests'\r\n            required\r\n            options={interests}\r\n            defaultValue={interests}\r\n            isMulti\r\n            placeholder={'Select Interests...'}\r\n            value={props.displayed_interests}\r\n            onChange={(e) => handleSelectInputChange(e)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default InterestSelect;\r\n"]},"metadata":{},"sourceType":"module"}