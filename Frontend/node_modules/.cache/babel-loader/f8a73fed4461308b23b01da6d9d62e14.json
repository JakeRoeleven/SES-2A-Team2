{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaker\\\\Desktop\\\\SES-2A-Team2\\\\Frontend\\\\src\\\\components\\\\MajorSelect.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MajorSelect(props) {\n  _s();\n\n  const [majors, setMajors] = useState([]);\n  const [major, setMajor] = useState();\n\n  const handleSelectInputChange = async event => {\n    let value = event.value;\n    props.setMajor(value);\n    console.log(major);\n  };\n\n  const setMajorsDropdownList = majors_array => {\n    let majors_obj_array = [];\n    majors_array.forEach(elem => {\n      majors_obj_array.push({\n        value: elem,\n        label: elem\n      });\n    });\n    setMajors(majors_obj_array);\n  }; // Fetch full subject list from API\n\n\n  const fetchMajors = useCallback(async () => {\n    fetch(`http://localhost:8080/api/majors`, {\n      crossDomain: true,\n      mode: 'cors',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(async res => {\n      setMajorsDropdownList(await res.json());\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    console.log(\"Loaded\");\n    console.log(props);\n    fetchMajors();\n  }, [fetchMajors]);\n  return /*#__PURE__*/_jsxDEV(Select, {\n    name: \"majors\",\n    required: true,\n    options: majors,\n    defaultValue: '',\n    value: major,\n    onChange: e => handleSelectInputChange(e)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MajorSelect, \"X9JkuKmf5NR5/cKo9/H6fnm2vzY=\");\n\n_c = MajorSelect;\nexport default MajorSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"MajorSelect\");","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/components/MajorSelect.js"],"names":["React","useState","useEffect","useCallback","Select","MajorSelect","props","majors","setMajors","major","setMajor","handleSelectInputChange","event","value","console","log","setMajorsDropdownList","majors_array","majors_obj_array","forEach","elem","push","label","fetchMajors","fetch","crossDomain","mode","method","headers","then","res","json","catch","err","e"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,WAApC,QAAsD,OAAtD;AACA,OAAOC,MAAP,MAAmB,cAAnB;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAExB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,EAAlC;;AAEA,QAAMU,uBAAuB,GAAG,MAAOC,KAAP,IAAmB;AACrD,QAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;AACAP,IAAAA,KAAK,CAACI,QAAN,CAAeG,KAAf;AACMC,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACH,GAJD;;AAMA,QAAMO,qBAAqB,GAAIC,YAAD,IAAkB;AAC5C,QAAIC,gBAAgB,GAAG,EAAvB;AACAD,IAAAA,YAAY,CAACE,OAAb,CAAqBC,IAAI,IAAI;AACzBF,MAAAA,gBAAgB,CAACG,IAAjB,CAAsB;AAACR,QAAAA,KAAK,EAAEO,IAAR;AAAcE,QAAAA,KAAK,EAAEF;AAArB,OAAtB;AACH,KAFD;AAGAZ,IAAAA,SAAS,CAACU,gBAAD,CAAT;AACH,GAND,CAXwB,CAmBxB;;;AACH,QAAMK,WAAW,GAAGpB,WAAW,CAAC,YAAY;AAC3CqB,IAAAA,KAAK,CAAE,kCAAF,EAAqC;AACzCC,MAAAA,WAAW,EAAE,IAD4B;AAEzCC,MAAAA,IAAI,EAAE,MAFmC;AAGzCC,MAAAA,MAAM,EAAE,KAHiC;AAIzCC,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAER,uCAA+B;AAFvB;AAJgC,KAArC,CAAL,CAQGC,IARH,CAQQ,MAAOC,GAAP,IAAe;AACtBd,MAAAA,qBAAqB,CAAC,MAAMc,GAAG,CAACC,IAAJ,EAAP,CAArB;AACA,KAVD,EAUGC,KAVH,CAUUC,GAAD,IAAS;AACjBnB,MAAAA,OAAO,CAACC,GAAR,CAAYkB,GAAZ;AACA,KAZD;AAaA,GAd8B,EAc5B,EAd4B,CAA/B;AAgBG/B,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AACAiB,IAAAA,WAAW;AACd,GAJQ,EAIN,CAACA,WAAD,CAJM,CAAT;AAOA,sBACI,QAAC,MAAD;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,QAAQ,MAFZ;AAGI,IAAA,OAAO,EAAEhB,MAHb;AAII,IAAA,YAAY,EAAE,EAJlB;AAKI,IAAA,KAAK,EAAEE,KALX;AAMI,IAAA,QAAQ,EAAGyB,CAAD,IAAOvB,uBAAuB,CAACuB,CAAD;AAN5C;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GArDQ7B,W;;KAAAA,W;AAuDT,eAAeA,WAAf","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\r\nimport Select from 'react-select';\r\n\r\nfunction MajorSelect(props) {\r\n\r\n    const [majors, setMajors] = useState([]);\r\n    const [major, setMajor] = useState();\r\n\r\n    const handleSelectInputChange = async (event, ) => {\r\n\t\tlet value = event.value;\r\n\t\tprops.setMajor(value)\r\n        console.log(major)\r\n    }\r\n\r\n    const setMajorsDropdownList = (majors_array) => {\r\n        let majors_obj_array = [];\r\n        majors_array.forEach(elem => {\r\n            majors_obj_array.push({value: elem, label: elem});\r\n        })\r\n        setMajors(majors_obj_array)\r\n    }\r\n\r\n    // Fetch full subject list from API\r\n\tconst fetchMajors = useCallback(async () => {\r\n\t\tfetch(`http://localhost:8080/api/majors`, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\tmode: 'cors',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t},\r\n\t\t}).then(async (res) => {\r\n\t\t\tsetMajorsDropdownList(await res.json());\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}, []);\r\n\r\n    useEffect(() => {\r\n        console.log(\"Loaded\")\r\n        console.log(props)\r\n        fetchMajors()\r\n    }, [fetchMajors]);\r\n\r\n    \r\n    return (\r\n        <Select\r\n            name='majors'\r\n            required\r\n            options={majors}\r\n            defaultValue={''}\r\n            value={major}\r\n            onChange={(e) => handleSelectInputChange(e)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default MajorSelect;\r\n"]},"metadata":{},"sourceType":"module"}