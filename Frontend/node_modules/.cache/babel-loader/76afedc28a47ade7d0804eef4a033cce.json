{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import CssBaseline from'@material-ui/core/CssBaseline';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Grid from'@material-ui/core/Grid';import SubjectCard from'../components/SubjectCard';import{AppContext}from'../AppContext';import InterestsCard from'../components/InterestsCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Recommendations(){var data=useContext(AppContext);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var findSubjects=function findSubjects(recommendations){var subject_obj={};var subject_ids=recommendations;data.forEach(function(elem){if(subject_ids.includes(elem._id)){subject_obj[elem._id]=elem;}});setResults(subject_obj);};var findRecommendations=function findRecommendations(student){fetch(\"http://localhost:8080/api/recommendation\",{method:'POST',body:JSON.stringify({student:student}),headers:{'Content-Type':'application/json'}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res.json(res);case 2:json=_context.sent;findSubjects(json.recommendations);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Container,{maxWidth:false,children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\" Course Recommendations \"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InterestsCard,{findRecommendations:findRecommendations}),/*#__PURE__*/_jsx(\"br\",{}),Object.keys(results).slice(0,5).map(function(subject,key){return/*#__PURE__*/_jsx(SubjectCard,{subject:results[subject]},key);})]})]});}export default Recommendations;","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/pages/Recommendations.js"],"names":["React","useState","useContext","CssBaseline","Typography","Container","Grid","SubjectCard","AppContext","InterestsCard","Recommendations","data","results","setResults","findSubjects","recommendations","subject_obj","subject_ids","forEach","elem","includes","_id","findRecommendations","student","fetch","method","body","JSON","stringify","headers","then","res","json","catch","err","console","log","Object","keys","slice","map","subject","key"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,KAA0C,OAA1C,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CAEA,OAASC,UAAT,KAA2B,eAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,C,6IAEA,QAASC,CAAAA,eAAT,EAA2B,CAEvB,GAAMC,CAAAA,IAAI,CAAGT,UAAU,CAACM,UAAD,CAAvB,CAFuB,cAGOP,QAAQ,CAAC,EAAD,CAHf,wCAGhBW,OAHgB,eAGPC,UAHO,eAKvB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,eAAD,CAAqB,CAEtC,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIC,CAAAA,WAAW,CAAGF,eAAlB,CACAJ,IAAI,CAACO,OAAL,CAAa,SAAAC,IAAI,CAAI,CACjB,GAAIF,WAAW,CAACG,QAAZ,CAAqBD,IAAI,CAACE,GAA1B,CAAJ,CAAoC,CAChCL,WAAW,CAACG,IAAI,CAACE,GAAN,CAAX,CAAwBF,IAAxB,CACH,CACJ,CAJD,EAMAN,UAAU,CAACG,WAAD,CAAV,CAEH,CAZD,CAcA,GAAMM,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,OAAD,CAAa,CACrCC,KAAK,4CAA6C,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACL,OAAO,CAAPA,OAAD,CAAf,CAFwC,CAG9CM,OAAO,CAAE,CACL,eAAgB,kBADX,CAHqC,CAA7C,CAAL,CAMGC,IANH,0FAMQ,iBAAOC,GAAP,iJACaA,CAAAA,GAAG,CAACC,IAAJ,CAASD,GAAT,CADb,QACAC,IADA,eAEJlB,YAAY,CAACkB,IAAI,CAACjB,eAAN,CAAZ,CAFI,sDANR,gEASGkB,KATH,CASS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAXD,EAYH,CAbD,CAeA,mBACI,wCACI,KAAC,WAAD,IADJ,cAEI,MAAC,SAAD,EAAW,QAAQ,CAAE,KAArB,wBACI,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,uBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,sCADJ,EADJ,EADJ,cAMI,aANJ,cAOI,KAAC,aAAD,EAAe,mBAAmB,CAAEZ,mBAApC,EAPJ,cAQI,aARJ,CASKe,MAAM,CAACC,IAAP,CAAY1B,OAAZ,EAAqB2B,KAArB,CAA2B,CAA3B,CAA8B,CAA9B,EAAiCC,GAAjC,CAAqC,SAACC,OAAD,CAAUC,GAAV,qBAClC,KAAC,WAAD,EAAuB,OAAO,CAAE9B,OAAO,CAAC6B,OAAD,CAAvC,EAAkBC,GAAlB,CADkC,EAArC,CATL,GAFJ,GADJ,CAkBH,CAED,cAAehC,CAAAA,eAAf","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SubjectCard from '../components/SubjectCard';\r\n\r\nimport { AppContext } from '../AppContext';\r\nimport InterestsCard from '../components/InterestsCard';\r\n\r\nfunction Recommendations() {  \r\n    \r\n    const data = useContext(AppContext);\r\n    const [results, setResults] = useState({});\r\n    \r\n    const findSubjects = (recommendations) => {\r\n\r\n        let subject_obj = {};\r\n        let subject_ids = recommendations;\r\n        data.forEach(elem => {\r\n            if (subject_ids.includes(elem._id)) {\r\n                subject_obj[elem._id] = elem\r\n            }\r\n        })\r\n\r\n        setResults(subject_obj);\r\n\r\n    }\r\n\r\n    const findRecommendations = (student) => {  \r\n        fetch(`http://localhost:8080/api/recommendation`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({student}),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }).then(async (res) => {\r\n            let json = await res.json(res)\r\n            findSubjects(json.recommendations)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container maxWidth={false}>\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={8}>\r\n                        <Typography variant='h5'> Course Recommendations </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                <br />\r\n                <InterestsCard findRecommendations={findRecommendations}></InterestsCard>\r\n                <br />\r\n                {Object.keys(results).slice(0, 5).map((subject, key) => (\r\n                    <SubjectCard key={key} subject={results[subject]} />\r\n                ))}\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Recommendations;\r\n"]},"metadata":{},"sourceType":"module"}