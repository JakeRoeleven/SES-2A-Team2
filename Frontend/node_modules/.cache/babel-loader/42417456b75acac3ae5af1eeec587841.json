{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect,useContext}from'react';import CssBaseline from'@material-ui/core/CssBaseline';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Grid from'@material-ui/core/Grid';import InputBase from'@material-ui/core/InputBase';import{fade,makeStyles}from'@material-ui/core/styles';import SearchIcon from'@material-ui/icons/Search';import Button from'@material-ui/core/Button';import SearchHandler from'../lib/searchHandler.js';import SubjectCard from'../components/SubjectCard';import{AppContext}from'../AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},title:_defineProperty({flexGrow:1,display:'none'},theme.breakpoints.up('sm'),{display:'block'}),search:_defineProperty({position:'relative',borderRadius:theme.shape.borderRadius,backgroundColor:fade(theme.palette.common.white,0.15),'&:hover':{backgroundColor:fade(theme.palette.common.white,0.25)},marginLeft:0,width:'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing(1),width:'auto'}),searchIcon:{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'},inputRoot:{color:'inherit'},inputInput:_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\"px)\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('sm'),{width:'12ch','&:focus':{width:'20ch'}})};});function Search(){var data=useContext(AppContext);var classes=useStyles();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),subjects=_useState2[0],setSubjects=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var searchSubjects=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key){var searchHandler,searchResults;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setResults({});searchHandler=new SearchHandler(subjects);_context.next=4;return searchHandler.searchAllSubjects(key);case 4:searchResults=_context.sent;setResults(searchResults);case 6:case\"end\":return _context.stop();}}},_callee);}));return function searchSubjects(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(event){setSearchValue(event.target.value);};useEffect(function(){setSubjects(data);},[data]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Container,{maxWidth:false,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\" Subject List Search \"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,alignItems:'flex-end',alignContent:'flex-end',children:/*#__PURE__*/_jsxs(\"div\",{className:classes.search,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.searchIcon,children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(InputBase,{placeholder:\"Search\\u2026\",classes:{root:classes.inputRoot,input:classes.inputInput},inputProps:{'aria-label':'search'},value:searchValue,onChange:onChange}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return searchSubjects(searchValue);},children:\"Search\"})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),Object.keys(results).slice(0,5).map(function(subject,key){return/*#__PURE__*/_jsx(SubjectCard,{subject:results[subject]},key);})]})]});}export default Search;","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/pages/Search.js"],"names":["React","useState","useEffect","useContext","CssBaseline","Typography","Container","Grid","InputBase","fade","makeStyles","SearchIcon","Button","SearchHandler","SubjectCard","AppContext","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Search","data","classes","subjects","setSubjects","results","setResults","searchValue","setSearchValue","searchSubjects","key","searchHandler","searchAllSubjects","searchResults","onChange","event","target","value","input","Object","keys","slice","map","subject"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport {fade, makeStyles} from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport SearchHandler from '../lib/searchHandler.js';\r\nimport SubjectCard from '../components/SubjectCard';\r\n\r\nimport { AppContext } from '../AppContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nfunction Search() {\r\n\r\n    const data = useContext(AppContext);\r\n    const classes = useStyles();\r\n\r\n    const [subjects, setSubjects] = useState({});\r\n    const [results, setResults] = useState({});\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    const searchSubjects = async (key) => {\r\n        setResults({});\r\n        let searchHandler = new SearchHandler(subjects);\r\n        let searchResults = await searchHandler.searchAllSubjects(key);\r\n        setResults(searchResults)\r\n    }\r\n\r\n    const onChange = (event) => {\r\n        setSearchValue(event.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSubjects(data)\r\n    }, [data]);\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container maxWidth={false}>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                    <Typography variant='h5'> Subject List Search </Typography>\r\n                </Grid>\r\n                <Grid item xs={4} alignItems={'flex-end'} alignContent={'flex-end'}>\r\n                    <div className={classes.search}>\r\n                        <div className={classes.searchIcon}>\r\n                            <SearchIcon />\r\n                        </div>\r\n                        <InputBase\r\n                            placeholder='Searchâ€¦'\r\n                            classes={{\r\n                                root: classes.inputRoot,\r\n                                input: classes.inputInput,\r\n                            }}\r\n                            inputProps={{'aria-label': 'search'}}\r\n                            value={searchValue}\r\n                            onChange={onChange}\r\n                        />\r\n                        <Button variant=\"contained\" onClick={() => searchSubjects(searchValue)}>Search</Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n                <br />\r\n                {Object.keys(results).slice(0, 5).map((subject, key) => (\r\n                    <SubjectCard key={key} subject={results[subject]} />\r\n                ))}\r\n            </Container>\r\n        </>\r\n    ); \r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}