{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Card,Typography,CardContent,Button,Container,CircularProgress}from'@material-ui/core';import InterestSelect from'../components/InterestSelects';import MajorSelect from'../components/MajorSelect';import CoursesCompleted from'../components/CompletedCourses';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InterestsCard(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),fetchedStudent=_useState2[0],setFetchedStudent=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),interests=_useState6[0],setInterests=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),displayedInterests=_useState8[0],setDisplayedInterests=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),completedSubjects=_useState10[0],setCompletedSubjects=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),faculty=_useState12[0],setFaculty=_useState12[1];var getStudentObj=function getStudentObj(){var student={interests:interests,faculty:faculty,courses_completed:completedSubjects};return student;};var setInterestsDropdownList=function setInterestsDropdownList(interests_array){setLoading(false);var interests_obj_array=[];interests_array.forEach(function(elem){interests_obj_array.push({value:elem,label:elem});});setDisplayedInterests(interests_obj_array);};var fetchStudent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=sessionStorage.getItem('user_id');fetch(\"http://localhost:8080/api/student/\".concat(id),{crossDomain:true,mode:'cors',method:'GET',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:data=_context.sent;debugger;setFetchedStudent(data);setInterests(data.interests);setCompletedSubjects(data.courses_completed);setInterestsDropdownList(data.interests);setFaculty(data.major);case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){console.log(err);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchStudent(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!fetchedStudent)fetchStudent();},[fetchStudent,fetchStudent]);if(loading){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{maxWidth:false,children:/*#__PURE__*/_jsx(Card,{style:{padding:'1%',overflow:'visible',textAlign:'center'},children:/*#__PURE__*/_jsx(CircularProgress,{})})})});}else{return/*#__PURE__*/_jsx(Card,{style:{marginBottom:'1%',padding:'1%',overflow:'visible'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{style:{marginBottom:'0.5%'},children:\" Your Interests \"}),/*#__PURE__*/_jsx(InterestSelect,{displayed_interests:displayedInterests,setCurrentInterests:setInterests,setDisplayedInterests:setDisplayedInterests}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{style:{marginBottom:'0.5%'},children:\" Your Faculty \"}),/*#__PURE__*/_jsx(MajorSelect,{setMajor:setFaculty,major:faculty}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{style:{marginBottom:'0.5%'},children:\" Your Completed Courses \"}),/*#__PURE__*/_jsx(CoursesCompleted,{courses:completedSubjects,student:fetchedStudent}),/*#__PURE__*/_jsx(Button,{style:{float:'right'},color:\"primary\",size:\"small\",onClick:function onClick(){return props.findRecommendations(getStudentObj());},children:\" Find Recommendations \"})]})});}}export default InterestsCard;","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/components/InterestsCard.js"],"names":["React","useEffect","useState","Card","Typography","CardContent","Button","Container","CircularProgress","InterestSelect","MajorSelect","CoursesCompleted","InterestsCard","props","fetchedStudent","setFetchedStudent","loading","setLoading","interests","setInterests","displayedInterests","setDisplayedInterests","completedSubjects","setCompletedSubjects","faculty","setFaculty","getStudentObj","student","courses_completed","setInterestsDropdownList","interests_array","interests_obj_array","forEach","elem","push","value","label","fetchStudent","id","sessionStorage","getItem","fetch","crossDomain","mode","method","headers","then","res","json","data","major","catch","err","console","log","padding","overflow","textAlign","marginBottom","float","findRecommendations"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {Card, Typography, CardContent, Button, Container, CircularProgress} from '@material-ui/core';\r\nimport InterestSelect from '../components/InterestSelects';\r\nimport MajorSelect from '../components/MajorSelect';\r\nimport CoursesCompleted from '../components/CompletedCourses';\r\n\r\nfunction InterestsCard(props) {\r\n\r\n    const [fetchedStudent, setFetchedStudent] = useState(false)\r\n    const [loading, setLoading] = useState(true);\r\n    const [interests, setInterests] = useState([]);\r\n    const [displayedInterests, setDisplayedInterests] = useState([]);\r\n    const [completedSubjects, setCompletedSubjects] = useState([]);\r\n    const [faculty, setFaculty] = useState('');\r\n\r\n    const getStudentObj = () => {\r\n        let student = {\r\n            interests: interests,\r\n            faculty: faculty,\r\n            courses_completed: completedSubjects\r\n        }\r\n        return(student)\r\n    }\r\n\r\n    const setInterestsDropdownList = (interests_array) => {\r\n        setLoading(false)\r\n        let interests_obj_array = [];\r\n        interests_array.forEach(elem => {\r\n            interests_obj_array.push({value: elem, label: elem});\r\n        })\r\n        setDisplayedInterests(interests_obj_array)\r\n    }\r\n\r\n    const fetchStudent = async () => {\r\n        let id = sessionStorage.getItem('user_id');\r\n        fetch(`http://localhost:8080/api/student/${id}`, {\r\n            crossDomain: true,\r\n            mode: 'cors',\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*',\r\n            },\r\n        }).then(async (res) => {\r\n                let data = await res.json();\r\n                debugger;\r\n                setFetchedStudent(data)\r\n                setInterests(data.interests)\r\n                setCompletedSubjects(data.courses_completed)\r\n                setInterestsDropdownList(data.interests)\r\n                setFaculty(data.major)\r\n        }).catch((err) => {\r\n                console.log(err);\r\n        });\r\n\t};\r\n\r\n    useEffect(() => {\r\n       if (!fetchedStudent) fetchStudent();\r\n    }, [fetchStudent, fetchStudent]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n            <Container maxWidth={false}>\r\n                <Card style={{ padding: '1%', overflow: 'visible', textAlign: 'center'}}>\r\n                    <CircularProgress />\r\n                </Card>\r\n            </Container>\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <Card style={{marginBottom: '1%', padding: '1%', overflow: 'visible'}}>\r\n                <CardContent>\r\n                    <Typography style={{marginBottom: '0.5%'}}> Your Interests </Typography>\r\n    \r\n                    <InterestSelect \r\n                        displayed_interests={displayedInterests} \r\n                        setCurrentInterests={setInterests} \r\n                        setDisplayedInterests={setDisplayedInterests} />\r\n    \r\n                    <br />\r\n\r\n                    <Typography  style={{marginBottom: '0.5%'}}> Your Faculty </Typography>\r\n                    <MajorSelect setMajor={setFaculty} major={faculty}/>\r\n                    <br />\r\n\r\n                    <Typography style={{marginBottom: '0.5%'}}> Your Completed Courses </Typography>\r\n                    <CoursesCompleted courses={completedSubjects} student={fetchedStudent}/>\r\n\r\n                    <Button style={{float: 'right'}} color='primary' size='small' onClick={() => props.findRecommendations(getStudentObj())}> Find Recommendations </Button>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n  \r\n}\r\n\r\nexport default InterestsCard;\r\n"]},"metadata":{},"sourceType":"module"}