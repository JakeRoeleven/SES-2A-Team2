{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaker\\\\Desktop\\\\SES-2A-Team2\\\\Frontend\\\\src\\\\components\\\\InterestSelects.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InterestSelect(props) {\n  _s();\n\n  const [interests, setInterests] = useState([]);\n\n  const handleSelectInputChange = async event => {\n    console.log(event); // Get array of objects \n\n    let value_array = await event; // Reduce to array of interests\n\n    let filtered_interests = [];\n    let displayed_interests = [];\n    value_array.forEach(elem => {\n      filtered_interests.push(elem.value);\n      displayed_interests.push(elem);\n    }); // Only allow 3 interests\n\n    if (filtered_interests.length < 4) {\n      props.setCurrentInterests(filtered_interests);\n      props.setDisplayedInterests(displayed_interests);\n    }\n  }; // Fetch full subject list from API\n\n\n  const fetchSubjects = useCallback(async () => {\n    fetch(`http://${process.env.REACT_APP_SERVER}/api/subjects`, {\n      crossDomain: true,\n      mode: 'cors',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(async res => {\n      let data = await res.json();\n      setSubjects(data);\n      setLoading(false); // Record the current date for local storage\n\n      let currentTime = new Date();\n      let cachedTime = currentTime.setHours(currentTime.getHours() + 2); // Persist the state in local storage\n\n      localStorage.setItem('hasLoaded', true);\n      localStorage.setItem('subjects', JSON.stringify(data));\n      localStorage.setItem('cacheTime', cachedTime);\n    }).catch(err => {\n      console.log(err);\n      setError(err);\n    });\n  }, []);\n  useEffect(() => {\n    http: //localhost:8080/api/interests\n    setInterests([{\n      value: 'interest1',\n      label: 'Interest1'\n    }, {\n      value: 'interest2',\n      label: 'Interest2'\n    }, {\n      value: 'interest3',\n      label: 'Interest3'\n    }, {\n      value: 'interest4',\n      label: 'Interest4'\n    }, {\n      value: 'interest5',\n      label: 'Interest5'\n    }, {\n      value: 'interest6',\n      label: 'Interest6'\n    }, {\n      value: 'interest7',\n      label: 'Interest7'\n    }, {\n      value: 'interest8',\n      label: 'Interest8'\n    }]);\n  }, [setInterests]);\n  console.log(props);\n  return /*#__PURE__*/_jsxDEV(Select, {\n    type: \"interests\",\n    name: \"interests\",\n    required: true,\n    options: interests,\n    defaultValue: interests,\n    isMulti: true,\n    placeholder: 'Select Interests...',\n    value: props.displayed_interests,\n    onChange: e => handleSelectInputChange(e)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(InterestSelect, \"3ZV3POYy8GklSw/uJlwm+60HjMM=\");\n\n_c = InterestSelect;\nexport default InterestSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"InterestSelect\");","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/components/InterestSelects.js"],"names":["React","useState","useEffect","useCallback","Select","InterestSelect","props","interests","setInterests","handleSelectInputChange","event","console","log","value_array","filtered_interests","displayed_interests","forEach","elem","push","value","length","setCurrentInterests","setDisplayedInterests","fetchSubjects","fetch","process","env","REACT_APP_SERVER","crossDomain","mode","method","headers","then","res","data","json","setSubjects","setLoading","currentTime","Date","cachedTime","setHours","getHours","localStorage","setItem","JSON","stringify","catch","err","setError","http","label","e"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\r\nimport Select from 'react-select';\r\n\r\nfunction InterestSelect(props) {\r\n\r\n    const [interests, setInterests] = useState([]);\r\n\r\n    const handleSelectInputChange = async (event) => {\r\n\r\n        console.log(event)\r\n\r\n        // Get array of objects \r\n        let value_array = await event;\r\n\r\n        // Reduce to array of interests\r\n        let filtered_interests = []\r\n        let displayed_interests = []\r\n        value_array.forEach((elem) => {\r\n            filtered_interests.push(elem.value)\r\n            displayed_interests.push(elem)\r\n        });\r\n\r\n        // Only allow 3 interests\r\n        if (filtered_interests.length < 4) {\r\n            props.setCurrentInterests(filtered_interests);\t\t\t\r\n            props.setDisplayedInterests(displayed_interests)\r\n        }\t\t\r\n    }\r\n\r\n    \t// Fetch full subject list from API\r\n\tconst fetchSubjects = useCallback(async () => {\r\n\t\tfetch(`http://${process.env.REACT_APP_SERVER}/api/subjects`, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\tmode: 'cors',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t},\r\n\t\t}).then(async (res) => {\r\n\t\t\tlet data = await res.json();\r\n\t\t\tsetSubjects(data);\r\n\t\t\tsetLoading(false);\r\n\r\n\t\t\t// Record the current date for local storage\r\n\t\t\tlet currentTime = new Date();\r\n\t\t\tlet cachedTime = currentTime.setHours(currentTime.getHours() + 2);\r\n\r\n\t\t\t// Persist the state in local storage\r\n\t\t\tlocalStorage.setItem('hasLoaded', true)\r\n\t\t\tlocalStorage.setItem('subjects', JSON.stringify(data));\r\n\t\t\tlocalStorage.setItem('cacheTime', cachedTime)\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tsetError(err);\r\n\t\t});\r\n\t}, []);\r\n\r\n    useEffect(() => {\r\n\r\n        http://localhost:8080/api/interests\r\n\r\n        setInterests([\r\n            {value: 'interest1', label: 'Interest1'},\r\n            {value: 'interest2', label: 'Interest2'},\r\n            {value: 'interest3', label: 'Interest3'},\r\n            {value: 'interest4', label: 'Interest4'},\r\n            {value: 'interest5', label: 'Interest5'},\r\n            {value: 'interest6', label: 'Interest6'},\r\n            {value: 'interest7', label: 'Interest7'},\r\n            {value: 'interest8', label: 'Interest8'},\r\n        ])\r\n    }, [setInterests]);\r\n\r\n    console.log(props)\r\n\r\n    return (\r\n        <Select\r\n            type='interests'\r\n            name='interests'\r\n            required\r\n            options={interests}\r\n            defaultValue={interests}\r\n            isMulti\r\n            placeholder={'Select Interests...'}\r\n            value={props.displayed_interests}\r\n            onChange={(e) => handleSelectInputChange(e)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default InterestSelect;\r\n"]},"metadata":{},"sourceType":"module"}