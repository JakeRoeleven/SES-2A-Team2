{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaker\\\\Desktop\\\\SES-2A-Team2\\\\Frontend\\\\src\\\\components\\\\InterestSelects.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InterestSelect(props) {\n  _s();\n\n  const [interests, setInterests] = useState([]);\n\n  const handleSelectInputChange = async event => {\n    console.log(event); // Get array of objects \n\n    let value_array = await event; // Reduce to array of interests\n\n    let filtered_interests = [];\n    let displayed_interests = [];\n    value_array.forEach(elem => {\n      filtered_interests.push(elem.value);\n      displayed_interests.push(elem);\n    }); // Only allow 3 interests\n\n    if (filtered_interests.length < 4) {\n      props.setCurrentInterests(filtered_interests);\n      props.setDisplayedInterests(displayed_interests);\n    }\n  };\n\n  const setInterestsDropdownList = interests_array => {\n    let interests_obj_array = [];\n    interests_array.forEach(elem => {\n      interests_obj_array.push({\n        value: elem,\n        label: elem\n      });\n    });\n    console.log(interests_obj_array);\n  }; // Fetch full subject list from API\n\n\n  const fetchSubjects = useCallback(async () => {\n    fetch(`http://localhost:8080/api/interests`, {\n      crossDomain: true,\n      mode: 'cors',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(async res => {\n      setInterestsDropdownList(await res.json());\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    fetchSubjects();\n    setInterests([{\n      value: 'interest1',\n      label: 'Interest1'\n    }, {\n      value: 'interest2',\n      label: 'Interest2'\n    }, {\n      value: 'interest3',\n      label: 'Interest3'\n    }, {\n      value: 'interest4',\n      label: 'Interest4'\n    }, {\n      value: 'interest5',\n      label: 'Interest5'\n    }, {\n      value: 'interest6',\n      label: 'Interest6'\n    }, {\n      value: 'interest7',\n      label: 'Interest7'\n    }, {\n      value: 'interest8',\n      label: 'Interest8'\n    }]);\n  }, [setInterests]);\n  console.log(props);\n  return /*#__PURE__*/_jsxDEV(Select, {\n    type: \"interests\",\n    name: \"interests\",\n    required: true,\n    options: interests,\n    defaultValue: interests,\n    isMulti: true,\n    placeholder: 'Select Interests...',\n    value: props.displayed_interests,\n    onChange: e => handleSelectInputChange(e)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(InterestSelect, \"3ZV3POYy8GklSw/uJlwm+60HjMM=\");\n\n_c = InterestSelect;\nexport default InterestSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"InterestSelect\");","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/components/InterestSelects.js"],"names":["React","useState","useEffect","useCallback","Select","InterestSelect","props","interests","setInterests","handleSelectInputChange","event","console","log","value_array","filtered_interests","displayed_interests","forEach","elem","push","value","length","setCurrentInterests","setDisplayedInterests","setInterestsDropdownList","interests_array","interests_obj_array","label","fetchSubjects","fetch","crossDomain","mode","method","headers","then","res","json","catch","err","e"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\r\nimport Select from 'react-select';\r\n\r\nfunction InterestSelect(props) {\r\n\r\n    const [interests, setInterests] = useState([]);\r\n\r\n    const handleSelectInputChange = async (event) => {\r\n\r\n        console.log(event)\r\n\r\n        // Get array of objects \r\n        let value_array = await event;\r\n\r\n        // Reduce to array of interests\r\n        let filtered_interests = []\r\n        let displayed_interests = []\r\n        value_array.forEach((elem) => {\r\n            filtered_interests.push(elem.value)\r\n            displayed_interests.push(elem)\r\n        });\r\n\r\n        // Only allow 3 interests\r\n        if (filtered_interests.length < 4) {\r\n            props.setCurrentInterests(filtered_interests);\t\t\t\r\n            props.setDisplayedInterests(displayed_interests)\r\n        }\t\t\r\n    }\r\n\r\n    const setInterestsDropdownList = (interests_array) => {\r\n        let interests_obj_array = [];\r\n        interests_array.forEach(elem => {\r\n            interests_obj_array.push({value: elem, label: elem});\r\n        })\r\n        console.log(interests_obj_array)\r\n    }\r\n\r\n    // Fetch full subject list from API\r\n\tconst fetchSubjects = useCallback(async () => {\r\n\t\tfetch(`http://localhost:8080/api/interests`, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\tmode: 'cors',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t},\r\n\t\t}).then(async (res) => {\r\n\t\t\tsetInterestsDropdownList(await res.json());\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\t\t});\r\n\t}, []);\r\n\r\n    useEffect(() => {\r\n\r\n        fetchSubjects()\r\n\r\n        setInterests([\r\n            {value: 'interest1', label: 'Interest1'},\r\n            {value: 'interest2', label: 'Interest2'},\r\n            {value: 'interest3', label: 'Interest3'},\r\n            {value: 'interest4', label: 'Interest4'},\r\n            {value: 'interest5', label: 'Interest5'},\r\n            {value: 'interest6', label: 'Interest6'},\r\n            {value: 'interest7', label: 'Interest7'},\r\n            {value: 'interest8', label: 'Interest8'},\r\n        ])\r\n    }, [setInterests]);\r\n\r\n    console.log(props)\r\n\r\n    return (\r\n        <Select\r\n            type='interests'\r\n            name='interests'\r\n            required\r\n            options={interests}\r\n            defaultValue={interests}\r\n            isMulti\r\n            placeholder={'Select Interests...'}\r\n            value={props.displayed_interests}\r\n            onChange={(e) => handleSelectInputChange(e)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default InterestSelect;\r\n"]},"metadata":{},"sourceType":"module"}