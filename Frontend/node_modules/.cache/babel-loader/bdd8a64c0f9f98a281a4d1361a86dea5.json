{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import app from'firebase/app';import'firebase/auth';import'firebase/database';// TODO: Move to env file\nvar config={apiKey:\"AIzaSyAJmVlyeF0BJeeI11wpKFfrdZED4xto5Dw\",authDomain:\"ses-2a-team-2.firebaseapp.com\",databaseURL:\"https://ses-2a-team-2-default-rtdb.firebaseio.com\",projectId:\"ses-2a-team-2\",storageBucket:\"ses-2a-team-2.appspot.com\",messagingSenderId:\"445897167340\",appId:\"1:445897167340:web:08d3b919a7a2c3cb8870c9\",measurementId:\"G-701ZRD9QSB\"};var provider=new app.auth.GoogleAuthProvider();var Firebase=/*#__PURE__*/function(){function Firebase(){_classCallCheck(this,Firebase);if(!app.apps.length){app.initializeApp(config);}this.auth=app.auth();this.database=app.database();}_createClass(Firebase,[{key:\"login\",value:function login(email,password){return this.auth.signInWithEmailAndPassword(email,password);}},{key:\"loginwithGoogle\",value:function loginwithGoogle(){return this.auth.signInWithPopup(provider);}},{key:\"logout\",value:function logout(){return this.auth.signOut();}},{key:\"resetPassword\",value:function resetPassword(){return this.auth.resetPassword();}},{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.auth.createUserWithEmailAndPassword(email,password);case 2:case\"end\":return _context.stop();}}},_callee,this);}));function register(_x,_x2){return _register.apply(this,arguments);}return register;}()},{key:\"isInitialized\",value:function isInitialized(){var _this=this;return new Promise(function(resolve){_this.auth.onAuthStateChanged(resolve);});}},{key:\"getCurrentUsername\",value:function getCurrentUsername(){return this.auth.currentUser&&this.auth.currentUser.email;}},{key:\"getCurrentUser\",value:function(){var _getCurrentUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",this.auth.currentUser);case 1:case\"end\":return _context2.stop();}}},_callee2,this);}));function getCurrentUser(){return _getCurrentUser.apply(this,arguments);}return getCurrentUser;}()},{key:\"showNavBar\",value:function showNavBar(){var show=false;if(!!this.auth.currentUser){show=true;}else{console.log(\"No current user\");}return show;}}]);return Firebase;}();export default new Firebase();","map":{"version":3,"sources":["C:/Users/jaker/Desktop/SES-2A-Team2/Frontend/src/firebase.js"],"names":["app","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","auth","GoogleAuthProvider","Firebase","apps","length","initializeApp","database","email","password","signInWithEmailAndPassword","signInWithPopup","signOut","resetPassword","createUserWithEmailAndPassword","Promise","resolve","onAuthStateChanged","currentUser","show","console","log"],"mappings":"uoBAAA,MAAOA,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAO,eAAP,CACA,MAAO,mBAAP,CAEA;AACA,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,yCADG,CAEXC,UAAU,CAAE,+BAFD,CAGXC,WAAW,CAAE,mDAHF,CAIXC,SAAS,CAAE,eAJA,CAKXC,aAAa,CAAE,2BALJ,CAMXC,iBAAiB,CAAE,cANR,CAOXC,KAAK,CAAE,2CAPI,CAQXC,aAAa,CAAE,cARJ,CAAf,CAWA,GAAIC,CAAAA,QAAQ,CAAG,GAAIV,CAAAA,GAAG,CAACW,IAAJ,CAASC,kBAAb,EAAf,C,GAEMC,CAAAA,Q,yBAEF,mBAAc,gCAEV,GAAI,CAACb,GAAG,CAACc,IAAJ,CAASC,MAAd,CAAsB,CAClBf,GAAG,CAACgB,aAAJ,CAAkBf,MAAlB,EACH,CAED,KAAKU,IAAL,CAAYX,GAAG,CAACW,IAAJ,EAAZ,CACA,KAAKM,QAAL,CAAgBjB,GAAG,CAACiB,QAAJ,EAAhB,CAEH,C,0CAED,eAAMC,KAAN,CAAaC,QAAb,CAAuB,CACnB,MAAO,MAAKR,IAAL,CAAUS,0BAAV,CAAqCF,KAArC,CAA4CC,QAA5C,CAAP,CACH,C,+BAED,0BAAkB,CACd,MAAO,MAAKR,IAAL,CAAUU,eAAV,CAA0BX,QAA1B,CAAP,CACH,C,sBAED,iBAAS,CACL,MAAO,MAAKC,IAAL,CAAUW,OAAV,EAAP,CACH,C,6BAED,wBAAgB,CACZ,MAAO,MAAKX,IAAL,CAAUY,aAAV,EAAP,CACH,C,yGAED,iBAAeL,KAAf,CAAsBC,QAAtB,wIACU,MAAKR,IAAL,CAAUa,8BAAV,CAAyCN,KAAzC,CAAgDC,QAAhD,CADV,4D,qHAIA,wBAAgB,gBACZ,MAAO,IAAIM,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAa,CAC5B,KAAI,CAACf,IAAL,CAAUgB,kBAAV,CAA6BD,OAA7B,EACH,CAFM,CAAP,CAGH,C,kCAED,6BAAqB,CACjB,MAAO,MAAKf,IAAL,CAAUiB,WAAV,EAAyB,KAAKjB,IAAL,CAAUiB,WAAV,CAAsBV,KAAtD,CACH,C,qHAED,yKACW,KAAKP,IAAL,CAAUiB,WADrB,+D,8HAIA,qBAAa,CAET,GAAIC,CAAAA,IAAI,CAAG,KAAX,CAEA,GAAI,CAAC,CAAC,KAAKlB,IAAL,CAAUiB,WAAhB,CAA6B,CACzBC,IAAI,CAAG,IAAP,CACH,CAFD,IAEO,CACHC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACH,CAED,MAAOF,CAAAA,IAAP,CACH,C,wBAIL,cAAe,IAAIhB,CAAAA,QAAJ,EAAf","sourcesContent":["import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\n// TODO: Move to env file\r\nconst config = {\r\n    apiKey: \"AIzaSyAJmVlyeF0BJeeI11wpKFfrdZED4xto5Dw\",\r\n    authDomain: \"ses-2a-team-2.firebaseapp.com\",\r\n    databaseURL: \"https://ses-2a-team-2-default-rtdb.firebaseio.com\",\r\n    projectId: \"ses-2a-team-2\",\r\n    storageBucket: \"ses-2a-team-2.appspot.com\",\r\n    messagingSenderId: \"445897167340\",\r\n    appId: \"1:445897167340:web:08d3b919a7a2c3cb8870c9\",\r\n    measurementId: \"G-701ZRD9QSB\"\r\n};\r\n\r\nvar provider = new app.auth.GoogleAuthProvider();\r\n\r\nclass Firebase {\r\n\r\n    constructor() {\r\n       \r\n        if (!app.apps.length) {\r\n            app.initializeApp(config);\r\n        }\r\n\r\n        this.auth = app.auth();\r\n        this.database = app.database();\r\n    \r\n    }\r\n\r\n    login(email, password) {\r\n        return this.auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    loginwithGoogle() {\r\n        return this.auth.signInWithPopup(provider)\r\n    };\r\n\r\n    logout() {\r\n        return this.auth.signOut();\r\n    }\r\n\r\n    resetPassword() {\r\n        return this.auth.resetPassword();\r\n    }\r\n\r\n    async register(email, password) {\r\n        await this.auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    isInitialized() {\r\n        return new Promise((resolve) => {\r\n            this.auth.onAuthStateChanged(resolve);\r\n        });\r\n    }\r\n\r\n    getCurrentUsername() {\r\n        return this.auth.currentUser && this.auth.currentUser.email;\r\n    }\r\n\r\n    async getCurrentUser() {\r\n        return this.auth.currentUser;\r\n    }\r\n\r\n    showNavBar() {\r\n\r\n        let show = false \r\n\r\n        if (!!this.auth.currentUser) {\r\n            show = true\r\n        } else {\r\n            console.log(\"No current user\")\r\n        }\r\n\r\n        return show;\r\n    }\r\n\r\n}\r\n\r\nexport default new Firebase();\r\n"]},"metadata":{},"sourceType":"module"}